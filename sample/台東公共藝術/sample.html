<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>測試定位</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="dist/style.min.css?v=1.0.2" />


    <!--字型-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

    <style type="text/css">
        /*html,
        body {
            margin: 0;
            width: 100%;
            height: 100%;
        }*/

        /*#map {
            float: left;
            margin: 0;
            width: 100%;
            height: 100%;
        }*/

        /*Wraperclass for the divicon*/
        .map-label {
            position: absolute;
            bottom: 0;
            left: -50%;
            display: flex;
            flex-direction: column;
            text-align: center;
        }

        /*Wrap the content of the divicon (text) in this class*/
        .map-label-content {
            order: 1;
            position: relative;
            left: -50%;
            background-color: #fff;
            border-radius: 5px;
            border-width: 2px;
            border-style: solid;
            border-color: #FFFFFF;
            padding: 3px;
            white-space: nowrap;
        }

        /*Add this arrow*/
        .map-label-arrow {
            order: 2;
            width: 0px;
            height: 0px;
            left: 50%;
            border-style: solid;
            border-color: #444 transparent transparent transparent;
            border-width: 10px 6px 0 6px;
            /*[first number is height, second/fourth are rigth/left width]*/
            margin-left: -6px;
        }

        /*Instance classes*/
        .map-label.inactive {
            opacity: 0.5;
        }

        .map-label.redborder > .map-label-content {
            border-color: #e00;
        }

        .map-label.redborder > .map-label-arrow {
            border-top-color: #e00;
        }

        .map-label.redbackground > .map-label-content {
            white-space: default;
            color: #fff;
            background-color: #e00;
        }



        * {
            font-family: 'Noto Sans TC';
            font-style: normal;
            font-weight: 400;
            /*font-size: 14px;*/
            line-height: 20px;
            color: #334155;
        }

        .banner {
            width: 100%;
        }

        /*第一彈出框*/
        .first_pop {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            padding: 36px 40px;
            width: 545px;
            height: 116px;
            left: 1px;
            top: 1px;
            /*置中*/
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            /*置頂*/
            z-index: 999;
            /* /Gray / White */
            background: #FFFFFF;
            /* Stroke/light */
            border: 1px solid #DEE2E6;
            /* Shadow / Small */
            box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.12), 0px 20px 20px rgba(0, 0, 0, 0.08);
            border-radius: 8px;
        }

        .toTPA {
            padding: 14px 20px;
            width: 220px;
            background: #FFFFFF;
            border: 1px solid #4F4F4F;
            box-sizing: border-box;
            border-radius: 8px;
            margin: 0px 24px;
        }

        .stay {
            padding: 14px 20px;
            width: 220px;
            background: #4F4F4F;
            border-radius: 8px;
            margin: 0px 24px;
            color: #F5F5F5;
        }

        .pop_font img {
            border-radius: 12px;
            width:270px;
        }
        /*測試按鈕*/
        .test_button01 {
            padding: 8px 12px;
            margin-right: 16px;
            background: #F0FDFA;
            border: 1px solid #CCFBF1;
            box-sizing: border-box;
            border-radius: 4px;
        }

        .test_button02 {
            padding: 8px 12px;
            margin-right: 16px;
            background: #F9FAFB;
            border: 1px solid #6B7280;
            box-sizing: border-box;
            border-radius: 4px;
        }

        /*彈出框按鈕*/
        .pop_font {
            font-size: 14px;
        }

        .pop_title {
            margin: 10px 0;
        }

        .pop_navigation {
            padding: 14px 20px;
            background: #FFFFFF;
            border: 1px solid #4F4F4F;
            border-radius: 8px;
            margin: 0px 24px;
        }

        .pop_details {
            color: #F5F5F5;
            padding: 14px 20px;
            background: #4F4F4F;
            border-radius: 8px;
            margin: 0px 24px;
        }
        /*年分*/
        .y2019 {
            color: #EF4444;
            padding: 4px;
            background: #FEE2E2;
            border-radius: 4px;
        }

        .y2020 {
            color: #EAB308;
            padding: 4px;
            background: #FEF9C3;
            border-radius: 4px;
        }

        .y2021 {
            color: #3B82F6;
            padding: 4px;
            background: #DBEAFE;
            border-radius: 4px;
        }

        /*rwd*/
        @media screen and (max-width: 768px) {
            #map {
                height: 60vh;
            }
            .first_pop {
                display: block;
                width: 300.5px;
                height: 219px;
                left: 1px;
                top: 1px;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .toTPA {
                height: 63px;
                margin: 0;
            }

            .stay {
                height: 63px;
                margin: 0;
                margin-top: 24px;
            }

            .pop_navigation {
                display: block;
                margin: auto;
                width: 200px;
            }

            .pop_details {
                display: block;
                margin: auto;
                margin-top:16px;
                width: 200px;
            }

            .pop_font img {
                width: 200px;
            }
        }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript">
        var currentLocation;

        function onClickLocation() {
            console.log(currentLocation.latlng.lat);
            //做到這裡，顯示現在位置
            alert('您所在的位置經緯度' + currentLocation.latlng.lat + ',' + currentLocation.latlng.lng);
        }
    </script>
    <!-- Google Tag Manager-->
    <!-- <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != "dataLayer" ? "&l=" + l : "";
            j.async = true;
            j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, "script", "dataLayer", "GTM-PGQ9WQT");


    </script> -->
</head>

<body>
    <!-- Google Tag Manager (noscript)-->
    <!-- <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PGQ9WQT" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript> -->
    <div id="first_pop" class="first_pop">
        <button class='toTPA' onclick="location.href='https://tpa.ccl.ttct.edu.tw/'">前往公共藝術網</button>
        <button class='stay' onclick='onClickStay();'>觀光公共藝術</button>
    </div>


    <div class="container">
        <!--<div class="row">
            <div class="col pt-5 text-center">-->
        <!-- <h1>Leaflet.js 移動中心點、抓目前地點</h1> -->
        <!-- <h6>筆記文：<a href="https://letswrite.tw/leaflet-osm-basic/">Let's Write</a></h6> -->
        <!--</div>
        </div>-->
        <div class="col">
            <img class="banner" src="./images/banner.png" alt="在藝術的路上遇見..." />
        </div>

        <div class="row">
            <div class="col">
                <div id="map"></div>
            </div>
        </div>


        <div class="row mb-3" style="margin-top:40px">
            <div class="col">
                測試按鈕 :
                <div class="d-flex align-items-center" style="margin:16px 0">
                    <!--<p class="mb-0">移動到指定座標：</p>-->
                    <a class="js-panto test_button01" href="#" data-to="22.76475, 121.1503" style="text-decoration:none;">台東美術館</a>
                    <a class="js-panto test_button01" href="#" data-to="22.79259, 121.12333" style="text-decoration:none;">台東火車站</a>
                    <button class="test_button02" onclick="onClickLocation();">取得目前座標</button>
                    <button class="test_button02" onclick="onClickMoveCurrentLocation();">移動到目前座標</button>
                    <div class="form-check form-switch mr-2 ml-3" style="visibility: hidden;">
                        <input class="form-check-input" id="flyTo" type="checkbox" />
                        <label class="form-check-label" for="flyTo">縮放效果</label>
                    </div>
                </div>
                <!-- <div>
                    規劃路徑
                    <a class="m-1 btn btn-sm btn-outline-primary" href="https://www.openstreetmap.org/directions?from=22.76475, 121.1503&to=22.75321437727234, 121.16465302702785" target="_blank">台東美術館>國際地標</a>
                </div> -->
                <!-- <div class="d-flex align-items-center">
                    <p class="mb-0">移動 x, y 位置：</p><a class="js-panby m-1 btn btn-sm btn-outline-primary" href="#" data-times="1">x: 50, y: 50</a><a class="js-panby m-1 btn btn-sm btn-outline-primary" href="#" data-times="2">x: 100, y: 100</a><a class="js-panby m-1 btn btn-sm btn-outline-primary" href="#" data-times="3">x: 150, y: 150</a>
                </div> -->
            </div>
        </div>

    </div>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script type="text/javascript">
        var 經緯度_台東美術館 = [22.76475, 121.1503];//台東美術館22.76475, 121.1503
        var defaultZoom = 10;
        var map = L.map("map", { attributionControl: !0, zoomControl: !0, center: 經緯度_台東美術館, zoom: defaultZoom });


        //固定取得自己的座標
        document.addEventListener("DOMContentLoaded", function () {

            L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);
            var ICON_目前位置 = L.icon({ iconUrl: "https://letswritetw.github.io/letswrite-leaflet-osm-locate/dist/dot.svg", iconSize: [16, 16] }),
                n = L.marker(經緯度_台東美術館, { icon: ICON_目前位置, title: "跟 <a> 的 title 一樣", opacity: 1 }).addTo(map);

            function a(t) {
                var map = document.querySelectorAll(".js-panto");
                Array.prototype.forEach.call(map, function (map) {
                    map.addEventListener("click", function (map) {
                        map.preventDefault();
                        var o = map.target.dataset.to.split(","),
                            n = map.target.textContent,
                            a = document.getElementById("flyTo").checked;
                        L.popup().setLatLng(o).setContent("".concat(n)).openOn(t), a ? t.flyTo(o) : t.panTo(o);
                    });
                });
            }

            function c(t) {
                var map = document.querySelectorAll(".js-panby");
                Array.prototype.forEach.call(map, function (map) {
                    map.addEventListener("click", function (map) {
                        map.preventDefault();
                        var o = 50 * map.target.dataset.times,
                            n = [o, o];
                        t.panBy(n);
                    });
                });
            }

            // map.locate({ setView: !0, watch: false, zoom: defaultZoom, enableHighAccuracy: !0 }),
            map.locate({ setView: !0, watch: false, zoom: defaultZoom, enableHighAccuracy: true }),
                map.on("locationerror", function (o) {
                    console.log("map", o), window.alert("無法判斷您的所在位置，無法使用此功能。預設地點將為 台東美術館"), map.setView(經緯度_台東美術館, defaultZoom), a(map), c(map);
                }),
                map.on("locationfound", function (t) {
                    // alert('您所在的位置經緯度' + t.latlng.lat + ',' + t.latlng.lng);
                    console.log("map", t), n.setLatLng(t.latlng), a(map), c(map);
                    map.setView(t.latlng, defaultZoom);
                    currentLocation = t;
                });


            //台東美術館22.76475, 121.1503
            //國際地標22.75321437727234, 121.16465302702785
            //台東火車站22.79259,121.12333


            //增加marker
            var title = '';
            var center = [22.79259, 121.12333];//景點經緯度
            var marker;
            var icon;


            // data = [
            //     { content: '自然 原始 傳統 衍生對話', lat: 22.79259, lon: 121.12333 },
            //     // { state: 'inactive', content: 'This is inactive', lat: 22.79459, lon: 121.12333 },
            //     { state: 'redborder', content: '背影', lat: 22.79659, lon: 121.12333 },
            //     // { state: 'redbackground', content: '空間實驗共感計畫第一號', lat: 22.79859, lon: 121.12333 },
            // ];


            data = [
                //2019作品
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 空間實驗共感計畫第一號</div>', lat: 22.760176, lon: 121.091927, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/129/small_20210313022253221.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/129' },

                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 旅行在50步的空間</div>', lat: 23.0204200, lon: 121.3249706, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/214/small_20210313064726938.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/214' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 振興壁畫 阿美族傳說–10個太陽</div>', lat: 23.0426588, lon: 121.1949693, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/229/small_20210313081813805.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/229' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 自然 原始 傳統 衍生對話</div>', lat: 22.748949, lon: 121.152748, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/178/small_20210313041748466.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/178' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 背影</div>', lat: 22.751547, lon: 121.147469, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/176/small_20210313041530675.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/176' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 小力量</div>', lat: 22.752253, lon: 121.145939, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/175/small_20210313041423785.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/175' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 千年守護</div>', lat: 22.806749, lon: 121.196902, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/145/small_20210313024612765.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/145' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 大同郵局鴿子</div>', lat: 22.752853, lon: 121.153951, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/66/small_20210312123155067.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/66' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 水下深藍11米的祝福</div>', lat: 22.752851, lon: 121.153952, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/65/small_20210312122947370.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/65' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 國際地標-向陽樹</div>', lat: 22.74923, lon: 121.15753, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/50/small_20210312060542191.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/50' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 落葉歸根</div>', lat: 22.738000, lon: 121.069028, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/154/small_20210313034640190.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/154' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 光、合、作用</div>', lat: 22.738000, lon: 121.069028, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/89/small_20210312140333502.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/89' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> Wishing Coin許願幣</div>', lat: 22.793660, lon: 121.123403, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/71/small_20210312132534077.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/71' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> VOLANGAT銀盔</div>', lat: 22.793134, lon: 121.123917, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/70/small_20210312132347364.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/70' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 等待漲潮－阿公的魚簍</div>', lat: 23.1297024208562, lon: 121.40081324040843, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/341/small_20211111163041933.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/341' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 艷陽下的綻放</div>', lat: 22.807151, lon: 121.196492, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/68/small_20210312132041442.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/68' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 斗笠</div>', lat: 23.095513, lon: 121.218334, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/230/small_20210313082152166.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/230' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 在河之間</div>', lat: 23.107131, lon: 121.193461, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/231/small_20210313082304774.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/231' },
                { state: '', content: '<div class="pop_font"><label class="y2019">2019</label> 自然療癒</div>', lat: 23.095482, lon: 121.215681, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/232/small_20210313082407422.JPG', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/232' },


                //2020作品
                { state: '', content: '<div class="pop_font"><label class="y2020">2020</label> 我想要有個家</div>', lat: 23.12002654980241, lon: 121.22403659769508, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/348/small_20211111094438072.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/348' },
                { state: '', content: '<div class="pop_font"><label class="y2020">2020</label> 何時</div>', lat: 23.120141784214837, lon: 121.22429456385626, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/349/small_20211111092908148.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/349' },
                { state: '', content: '<div class="pop_font"><label class="y2020">2020</label> 溯土Revert to Earth</div>', lat: 23.12474819805779, lon: 121.21972271520636, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/350/small_20211110151306000.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/350' },
                { state: '', content: '<div class="pop_font"><label class="y2020">2020</label> 拾火Kalo’orip</div>', lat: 23.12497996526222, lon: 121.21940008914386, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/351/small_20211110150929837.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/351' },
                { state: '', content: '<div class="pop_font"><label class="y2020">2020</label> 供給與需求</div>', lat: 23.125048568251945, lon: 121.21941766460687, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/352/small_20211110150648084.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/352' },



                //2021作品
                { state: '', content: '<div class="pop_font"><label class="y2021">2021</label> 療癒系列</div>', lat: 23.041170000332418, lon: 121.17641641622309, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/357/small_20211110101729813.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/357' },
                { state: '', content: '<div class="pop_font"><label class="y2021">2021</label> 蛻變前的等待</div>', lat: 23.04408477348909, lon: 121.17730567378085, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/358/small_20211110101343066.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/358' },
                { state: '', content: '<div class="pop_font"><label class="y2021">2021</label> 雲朵製造所</div>', lat: 23.040585419463223, lon: 121.17430410742662, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/359/small_20211110101131334.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/359' },
                { state: '', content: '<div class="pop_font"><label class="y2021">2021</label> 穹頂上有花</div>', lat: 22.939326565363256, lon: 121.15198768782173, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/360/small_20211110100819622.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/360' },
                { state: '', content: '<div class="pop_font"><label class="y2021">2021</label> 粉紅河馬</div>', lat: 22.931328602371874, lon: 121.15613336862421, img: 'https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/361/small_20211110100557628.jpg', link: 'https://tpa.ccl.ttct.edu.tw/Arts/Details/361' }



            ];


            //帶有文字的icon
            data.forEach(function (row) {
                var pos = new L.LatLng(row.lat, row.lon);
                var icontext = row.content;
                var instanceclass = row.state || '';
                var img = row.img;
                var link = row.link;

                var icon = L.divIcon({
                    iconSize: null,
                    html: '<div class="map-label ' + instanceclass + '"><div class="map-label-content">' + icontext + '</div><div class="map-label-arrow"></div></div>'
                });

                // L.marker(pos).addTo(map); //reference marker (for checking position)
                marker = L.marker(pos, { icon: icon }).addTo(map);
                marker.bindPopup("<div class='pop_font'><div><img src='" + img + "''><div><div class='pop_title'>" + icontext + "</div><button class='pop_navigation' onclick='onClickMarker導航(" + row.lat + ", " + row.lon + ")'>路徑規劃</button> <button class='pop_details' onclick='onClickDetail(\"" + link + "\");'>詳細</button></div>");

            });




            // title = '空間實驗共感計畫第一號';
            // center = [22.760176, 121.091927];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/129/small_20210313022253221.jpg''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/129\");'>詳細</button>");

            // title = '有空來坐坐';
            // center = [22.751152, 121.148080];
            // marker = L.marker(center, {title: title,opacity: 1.0}).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/177/small_20210313041643394.jpg'><label>"+title+"</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/177\");'>詳細</button>");

            // title = '自然 原始 傳統 衍生對話';
            // center = [22.748949, 121.152748];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/178/small_20210313041748466.JPG'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/178\");'>詳細</button>");

            // title = '背影';
            // center = [22.751547, 121.147469];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/176/small_20210313041530675.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/176\");'>詳細</button>");

            // title = '小力量';
            // center = [22.752253, 121.145939];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/175/small_20210313041423785.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/175\");'>詳細</button>");

            // title = '千年守護';
            // center = [22.806749, 121.196902];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/145/small_20210313024612765.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/145\");'>詳細</button>");



            // title = '大同郵局鴿子';
            // center = [22.752853, 121.153951];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/66/small_20210312123155067.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/66\");'>詳細</button>");

            // title = '水下深藍11米的祝福';
            // center = [22.752853, 121.153951];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/65/small_20210312122947370.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/65\");'>詳細</button>");

            // title = '國際地標-向陽樹';
            // center = [22.74923, 121.15753];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/50/small_20210312060542191.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/50\");'>詳細</button>");

            // title = '落葉歸根';
            // center = [22.738000, 121.069028];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/154/small_20210313034640190.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/154\");'>詳細</button>");

            // title = '光、合、作用';
            // center = [22.763889, 121.151111];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/89/small_20210312140333502.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/89\");'>詳細</button>");

            // title = 'Wishing Coin許願幣';
            // center = [22.793660, 121.123403];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/71/small_20210312132534077.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/71\");'>詳細</button>");

            // title = 'VOLANGAT銀盔';
            // center = [22.793134, 121.123917];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/70/small_20210312132347364.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/70\");'>詳細</button>");

            // title = '等待漲潮－阿公的魚簍';
            // center = [23.1297024208562, 121.40081324040843];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/341/small_20211111163041933.jpg''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/341\");'>詳細</button>");

            // title = '艷陽下的綻放';
            // center = [22.807151, 121.196492];
            // marker = L.marker(center, { title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/68/small_20210312132041442.JPG''><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/68\");'>詳細</button>");


            // //2019
            // var icon2019 = L.icon({
            //     iconUrl: 'https://cdn-icons-png.flaticon.com/512/727/727606.png',
            //     iconSize: [41, 41]
            // });

            // title = '旅行在50步的空間';
            // center = [23.0204200, 121.3249706];
            // marker = L.marker(center, { icon: icon2019, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/214/small_20210313064726938.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/214\");'>詳細</button>");

            // title = '振興壁畫 阿美族傳說–10個太陽';
            // center = [23.0426588, 121.1949693];
            // marker = L.marker(center, { icon: icon2019, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/229/small_20210313081813805.JPG'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/229\");'>詳細</button>");

            // title = '斗笠';
            // center = [23.095513, 121.218334];
            // marker = L.marker(center, { icon: icon2019, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/230/small_20210313082152166.JPG'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/230\");'>詳細</button>");

            // title = '在河之間';
            // center = [23.107131, 121.193461];
            // marker = L.marker(center, { icon: icon2019, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/231/small_20210313082304774.JPG'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/231\");'>詳細</button>");

            // title = '自然療癒';
            // center = [23.095482, 121.215681];
            // marker = L.marker(center, { icon: icon2019, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/232/small_20210313082407422.JPG'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/232\");'>詳細</button>");


            // //2020
            // var icon2020 = L.icon({
            //     iconUrl: 'https://cdn-icons-png.flaticon.com/512/684/684908.png',
            //     iconSize: [41, 41]
            // });

            // title = '我想要有個家';
            // center = [23.12002654980241, 121.22403659769508];
            // marker = L.marker(center, { icon: icon2020, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/348/small_20211111094438072.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/348\");'>詳細</button>");

            // title = '何時';
            // center = [23.120141784214837, 121.22429456385626];
            // marker = L.marker(center, { icon: icon2020, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/349/small_20211111092908148.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/349\");'>詳細</button>");

            // title = '溯土Revert to Earth';
            // center = [23.12474819805779, 121.21972271520636];
            // marker = L.marker(center, { icon: icon2020, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/350/small_20211110151306000.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/350\");'>詳細</button>");

            // title = '拾火Kalo’orip';
            // center = [23.12497996526222, 121.21940008914386];
            // marker = L.marker(center, { icon: icon2020, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/351/small_20211110150929837.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/351\");'>詳細</button>");

            // title = '供給與需求';
            // center = [23.125048568251945, 121.21941766460687];
            // marker = L.marker(center, { icon: icon2020, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/352/small_20211110150648084.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/352\");'>詳細</button>");

            // //2021
            // var icon2021 = L.icon({
            //     iconUrl:'https://cdn-icons-png.flaticon.com/512/6317/6317800.png',
            //     iconSize: [41, 41]
            // });

            // title = '療癒系列';
            // center = [23.041170000332418, 121.17641641622309];
            // marker = L.marker(center, { icon: icon2021, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/357/small_20211110101729813.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/357\");'>詳細</button>");

            // title = '蛻變前的等待';
            // center = [23.04408477348909, 121.17730567378085];
            // marker = L.marker(center, { icon: icon2021, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/358/small_20211110101343066.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/358\");'>詳細</button>");

            // title = '雲朵製造所';
            // center = [23.040585419463223, 121.17430410742662];
            // marker = L.marker(center, { icon: icon2021, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/359/small_20211110101131334.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/359\");'>詳細</button>");

            // title = '穹頂上有花';
            // center = [22.939326565363256, 121.15198768782173];
            // marker = L.marker(center, { icon: icon2021, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/360/small_20211110100819622.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/360\");'>詳細</button>");

            // title = '粉紅河馬';
            // center = [22.931328602371874, 121.15613336862421];
            // marker = L.marker(center, { icon: icon2021, title: title, opacity: 1.0 }).addTo(e);
            // marker.bindPopup("<div><img width='200' src='https://tpa.ccl.ttct.edu.tw/download/arts_upload_file/361/small_20211110100557628.jpg'><label>" + title + "</label><div><button onclick='onClickMarker導航(" + center[0] + ", " + center[1] + ")'>路徑規劃</button> <button onclick='onClickDetail(\"https://tpa.ccl.ttct.edu.tw/Arts/Details/361\");'>詳細</button>");

        });

        function onClickMarker導航(To經度, To緯度) {
            window.open(get路經規劃網址(currentLocation.latlng.lat, currentLocation.latlng.lng, To經度, To緯度), '_blank');
        }

        function onClickDetail(url) {
            window.open(url, '_blank');
        }


        function get路經規劃網址(From經度, From緯度, To經度, To緯度) {
            return "https://www.openstreetmap.org/directions?from=" + From經度 + ", " + From緯度 + "&to=" + To經度 + ", " + To緯度 + "";
        }

        function onClickMoveCurrentLocation() {
            e.flyTo([currentLocation.latlng.lat, currentLocation.latlng.lng]);
        }

        function onClickStay() {
            $('#first_pop').hide();
        }

        $(function () {
            // var map = L.map("map");


        });
    </script>
</body>

</html>